<!DOCTYPE html>
<html dir="rtl" lang="ar">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<title>Fractal Decision Engine โ If/Then</title>
<style>
    :root{
      --bg:#0b1020;
      --card:#121a33;
      --muted:#9fb0ff;
      --text:#e9eeff;
      --border:rgba(255,255,255,.10);
      --ok:#23d18b;
      --warn:#f7b955;
      --bad:#ff5c7a;
      --accent:#7aa2ff;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: system-ui, -apple-system, "Segoe UI", Tahoma, Arial, sans-serif;
      background: radial-gradient(1200px 600px at 80% -10%, rgba(122,162,255,.25), transparent 60%),
                  radial-gradient(900px 500px at 20% 0%, rgba(35,209,139,.18), transparent 60%),
                  var(--bg);
      color:var(--text);
      line-height:1.5;
    }
    header{
      padding:24px 16px 10px;
      max-width:1100px;
      margin:0 auto;
    }
    h1{
      margin:0 0 6px 0;
      font-size:22px;
      font-weight:800;
      letter-spacing:.2px;
    }
    .subtitle{
      margin:0;
      color:rgba(233,238,255,.75);
      font-size:14px;
    }
    main{
      max-width:1100px;
      margin:0 auto;
      padding:12px 16px 40px;
      display:grid;
      grid-template-columns: 1fr;
      gap:14px;
    }
    @media (min-width: 980px){
      main{ grid-template-columns: 1.25fr .75fr; }
    }
    .card{
      background: linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.01));
      border:1px solid var(--border);
      border-radius:16px;
      padding:14px;
      box-shadow: 0 10px 30px rgba(0,0,0,.25);
    }
    .card h2{
      margin:0 0 10px 0;
      font-size:16px;
      font-weight:800;
      display:flex;
      align-items:center;
      gap:8px;
    }
    .badge{
      font-size:12px;
      padding:4px 8px;
      border-radius:999px;
      border:1px solid var(--border);
      color:rgba(233,238,255,.85);
      background: rgba(255,255,255,.03);
      white-space:nowrap;
    }
    .grid{
      display:grid;
      grid-template-columns: 1fr;
      gap:10px;
    }
    @media (min-width: 680px){
      .grid.two{ grid-template-columns: 1fr 1fr; }
    }
    .field{
      border:1px dashed rgba(255,255,255,.16);
      border-radius:14px;
      padding:10px 10px 8px;
      background: rgba(18,26,51,.35);
    }
    .field .label{
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:10px;
      font-size:13px;
      font-weight:700;
    }
    .hint{
      margin-top:6px;
      font-size:12px;
      color:rgba(233,238,255,.65);
    }
    .switch{
      display:inline-flex;
      align-items:center;
      gap:8px;
      user-select:none;
      cursor:pointer;
      padding:2px 6px;
      border-radius:999px;
      border:1px solid var(--border);
      background: rgba(255,255,255,.03);
    }
    .dot{
      width:14px;height:14px;border-radius:50%;
      background: rgba(255,255,255,.18);
      border:1px solid rgba(255,255,255,.18);
      transition: all .15s ease;
    }
    .switch[data-state="true"] .dot{ background: var(--ok); border-color: rgba(0,0,0,.0); }
    .switch span{
      font-size:12px;
      color:rgba(233,238,255,.8);
      min-width:34px;
      text-align:center;
    }

    .result{
      padding:12px;
      border-radius:16px;
      border:1px solid var(--border);
      background: rgba(255,255,255,.02);
    }
    .result .row{
      display:flex;
      justify-content:space-between;
      align-items:flex-start;
      gap:10px;
      flex-wrap:wrap;
    }
    .pill{
      padding:6px 10px;
      border-radius:999px;
      font-size:12px;
      border:1px solid var(--border);
      background: rgba(255,255,255,.03);
      display:inline-flex;
      align-items:center;
      gap:8px;
      white-space:nowrap;
    }
    .pill .k{opacity:.75}
    .action{
      font-size:18px;
      font-weight:900;
      letter-spacing:.3px;
    }
    .action.ok{ color: var(--ok); }
    .action.warn{ color: var(--warn); }
    .action.bad{ color: var(--bad); }
    .next{
      margin-top:10px;
      padding:10px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(18,26,51,.45);
      color:rgba(233,238,255,.9);
      font-size:13px;
    }
    .actions{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      margin-top:10px;
    }
    button{
      appearance:none;
      border:1px solid var(--border);
      background: rgba(255,255,255,.03);
      color:var(--text);
      border-radius:12px;
      padding:10px 12px;
      font-weight:800;
      cursor:pointer;
    }
    button:hover{ border-color: rgba(255,255,255,.22); }
    button.primary{
      border-color: rgba(122,162,255,.45);
      background: rgba(122,162,255,.12);
    }
    .small{
      font-size:12px;
      color:rgba(233,238,255,.65);
      margin-top:10px;
    }
    details{
      border:1px solid var(--border);
      border-radius:14px;
      padding:10px;
      background: rgba(255,255,255,.02);
    }
    details summary{
      cursor:pointer;
      font-weight:900;
      color:rgba(233,238,255,.92);
    }
    .mono{ font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; }
    .kv{ margin-top:10px; display:grid; gap:6px; }
    .kv div{
      display:flex; justify-content:space-between; gap:10px;
      font-size:12px; color:rgba(233,238,255,.75);
      border-bottom:1px dashed rgba(255,255,255,.10);
      padding-bottom:6px;
    }
  

/* ---- Tabs layout - ุชุตููู ุฃููู ูุญุณูู ---- */
.tabs{
  display:flex; 
  gap:6px; 
  flex-wrap:wrap;
  padding:6px; 
  border:1px solid var(--border);
  border-radius:12px; 
  background: rgba(255,255,255,.02);
  margin: 10px 0 14px;
  max-width: 100%;
  overflow-x: auto;
}
.tab-btn{
  cursor:pointer; 
  user-select:none;
  padding:6px 14px;
  border-radius:8px;
  border:1px solid var(--border);
  color:rgba(233,238,255,.85);
  background: rgba(255,255,255,.03);
  font-weight:700;
  font-size:12px;
  white-space: nowrap;
  transition: all 0.2s ease;
  flex-shrink: 0;
}
.tab-btn:hover{
  background: rgba(255,255,255,.06);
  border-color: rgba(255,255,255,.18);
}
.tab-btn[aria-selected="true"]{
  background: rgba(122,162,255,.18);
  border-color: rgba(122,162,255,.35);
  color: var(--text);
}
.tab-panel{ 
  display:none;
  animation: fadeIn 0.3s ease;
}
.tab-panel.active{ 
  display:block; 
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

/* ---- Doc pages styling ---- */
.doc-page{
  padding:14px;
  border-radius:14px;
  border:1px solid rgba(255,255,255,.12);
  background: rgba(18,26,51,.25);
  margin-bottom:10px;
}
.doc-page h3{
  margin:0 0 10px 0;
  font-size:15px;
  font-weight:900;
  letter-spacing:.2px;
}
.doc-page p{
  margin:8px 0;
  font-size:13px;
  color:rgba(233,238,255,.9);
}
.doc-page ul{
  margin:6px 0;
  padding-right:18px;
  font-size:13px;
  color:rgba(233,238,255,.9);
}
.doc-page li{
  margin:4px 0;
}
.doc-page .note{
  padding:10px;
  border-radius:10px;
  background: rgba(35,209,139,.08);
  border:1px solid rgba(35,209,139,.25);
  font-size:12px;
  margin:10px 0;
}
.doc-page .warn{
  padding:10px;
  border-radius:10px;
  background: rgba(247,185,85,.08);
  border:1px solid rgba(247,185,85,.25);
  font-size:12px;
  margin:10px 0;
}
.doc-page code{
  font-family: ui-monospace, monospace;
  background: rgba(255,255,255,.08);
  padding:2px 6px;
  border-radius:4px;
  font-size:12px;
}
</style>
</head>
<body>
<header>
<h1>๐ฎ Fractal Decision Engine โ If/Then</h1>
<p class="subtitle">ุดุฌุฑุฉ ุงููุฑุงุฑุงุช ุงูุชูููุฐูุฉ (9 ูุฑุงุญู + LevelโP Scoring)ุ ุงูุขู ูุน ุฏุนู multiโframe timing + ูุณุชูุฏุงุช Timingุ Executionุ Riskุ Managementุ ูFAQ.</p>
</header>
<main>
<div style="grid-column:1/-1">

<!-- Tabs Container -->
<div role="tablist" class="tabs">
  <button role="tab" aria-selected="true" aria-controls="tab-engine" class="tab-btn" tabindex="0">ุงููุญุฑู ุงูุฑุฆูุณู</button>
  <button role="tab" aria-selected="false" aria-controls="tab-timing" class="tab-btn" tabindex="-1">Timing</button>
  <button role="tab" aria-selected="false" aria-controls="tab-execution" class="tab-btn" tabindex="-1">Execution</button>
  <button role="tab" aria-selected="false" aria-controls="tab-risk" class="tab-btn" tabindex="-1">Risk</button>
  <button role="tab" aria-selected="false" aria-controls="tab-management" class="tab-btn" tabindex="-1">Management</button>
  <button role="tab" aria-selected="false" aria-controls="tab-faq" class="tab-btn" tabindex="-1">FAQ</button>
</div>

<!-- Main Engine Panel -->
<section id="tab-engine" class="tab-panel active" role="tabpanel">
<main>
<section class="card">
<h2>ุณูุณูุฉ ุงููุฑุงุฑ <span class="badge">Decision Chain</span></h2>
<details open="">
<summary>Stage 0: ุงูุจูุงุจุฉ ุงูุจุตุฑูุฉ โ Visual Recognition Gate</summary>
<div class="grid">
<div class="field">
<div class="label">
<span>ูู ููุฌุฏ ูููู ุชูุณูุฑู ูุงุถุญ (ููุบ ูุงุจุท ุฃู ุตุงุนุฏ)ุ</span>
<div class="switch" data-key="structure_ok" data-state="false"><div class="dot"></div><span>ูุง</span></div>
</div>
</div>
<div class="field">
<div class="label">
<span>ูู ุงูุชูุงุธุฑ ูุงุถุญ (ุฃุฑุฌู ุชุชุดุงุจู ูู ุงูุญุฌู ูุงูููุช)ุ</span>
<div class="switch" data-key="symmetry_ok" data-state="false"><div class="dot"></div><span>ูุง</span></div>
</div>
</div>
<div class="field">
<div class="label">
<span>ูู ููุงู ุฅุฑูุงู ุจูููู (exhaustion) ููุญูุธุ</span>
<div class="switch" data-key="exhaustion_ok" data-state="false"><div class="dot"></div><span>ูุง</span></div>
</div>
<div class="hint">ุฅุฐุง ูุงูุช ุงูุฅุฌุงุจุฉ "ูุง" ููู ุณูุญุฏุซ ูุฑูุจูุงุ ูุนูู ุงูุฎูุงุฑ ุงูุชุงูู.</div>
</div>
<div class="field">
<div class="label">
<span>ุงูุฅุฑูุงู ูู ูุญุฏุซ ุจุนุฏุ ููู ูุฑูุจ (ูุซูุงู ูุญุชุงุฌ ููุบ ุฑุงุจุน)ุ</span>
<div class="switch" data-key="exhaustion_not_yet" data-state="false"><div class="dot"></div><span>ูุง</span></div>
</div>
</div>
</div>
<p class="small">ุฅู ูู ููุฑ Stage 0 ุจูุฌุงุญุ ุงููุชูุฌุฉ ุณุชููู <span class="mono">CANCEL</span> ุฃู <span class="mono">CHANGE_TF</span> ุฃู <span class="mono">WAIT</span> ุญุณุจ ุงูุณุจุจ.</p>
</details>
<details>
<summary>Stage 1: ููุทุฉ ุงูุตูุฑ โ Point Zero</summary>
<div class="grid">
<div class="field">
<div class="label">
<span>ูู ุญุฏุฏ Point Zero ุจูุถูุญุ</span>
<div class="switch" data-key="point_zero_clear" data-state="false"><div class="dot"></div><span>ูุง</span></div>
</div>
<div class="hint">ุฃุนูู ุดูุนุฉ ูู bullish reversal fractalุ ุฃุฏูู ุดูุนุฉ ูู bearish reversal fractal.</div>
</div>
</div>
<p class="small">ุฅู ูู ุชูู ูุงุถุญุฉ โ <span class="mono">CHANGE_TF</span>.</p>
</details>
<details>
<summary>Stage 2: Quad (1โ2โ3โ4)</summary>
<div class="grid">
<div class="field">
<div class="label">
<span>ูู Quad ูุงุถุญ (1โ2โ3โ4)ุ</span>
<div class="switch" data-key="quad_clear" data-state="false"><div class="dot"></div><span>ูุง</span></div>
</div>
<div class="hint">ุฃุฑุจุน ุดููุน/ุฑููุฌุงุช ุชุจุฏุฃ ูู Point Zero (ูุชุตุงุนุฏุฉ ุฃู ูุชูุงูุตุฉ ุฃู ููุฑูุฒูุชุงู).</div>
</div>
</div>
<p class="small">ุฅู ูู ููู ูุงุถุญูุง โ <span class="mono">CHANGE_TF</span>.</p>
</details>
<details>
<summary>Stage 3: ุนุงุฆูุฉ ุงูุดููุน โ Candle Family</summary>
<div class="grid">
<div class="field">
<div class="label">
<span>ูู ุนุงุฆูุฉ ุงูุดููุน ูุงุถุญุฉ (bull vs bear)ุ</span>
<div class="switch" data-key="family_clear" data-state="false"><div class="dot"></div><span>ูุง</span></div>
</div>
<div class="hint">ุฅุฐุง ูุงูุช ุจุนุถ ุงูุดููุน bullish ูุงูุฃุฎุฑู bearish (ุนุงุฆูุงุช ูุฎุชูุทุฉ) โ ุฑูุฏู ุจู <span class="mono">CANCEL</span>.</div>
</div>
</div>
<p class="small">ุฅู ูู ุชูู ูุงุถุญุฉ ุฃู ูุงูุช ูุฎุชูุทุฉ โ <span class="mono">CANCEL</span>.</p>
</details>
<details>
<summary>Stage 4: ุงูุชูุงูุจ โ Alternation</summary>
<div class="grid">
<div class="field">
<div class="label">
<span>ูู ุงูุชูุงูุจ ูุงุฆู (ุชูุจูุฑโุชุตุบูุฑโุชูุจูุฑโุชุตุบูุฑ)ุ</span>
<div class="switch" data-key="alternation_ok" data-state="false"><div class="dot"></div><span>ูุง</span></div>
</div>
<div class="hint">ูุง ูุฌูุฒ ูุตุบุฑ ุนูู ูุตุบุฑ ุฃู ููุจุฑ ุนูู ููุจุฑ.</div>
</div>
</div>
<p class="small">ุฅู ูู ููู ูุงุฆููุง โ <span class="mono">CANCEL</span>.</p>
</details>
<details>
<summary>Stage 5: Reflection (ุงูุงูุนูุงุณ)</summary>
<div class="grid">
<div class="field">
<div class="label">
<span>ูู ููุฌุฏ Reflection ูุงุถุญ (ูุงุฆุฏ ูุงุญุฏ ูุธูุฑ)ุ</span>
<div class="switch" data-key="reflection_found" data-state="false"><div class="dot"></div><span>ูุง</span></div>
</div>
<div class="hint">Reflection ูู ุงูุงูุนูุงุณ ุงูุฐู ูุฏู ุนูู ุจุฏุงูุฉ ุชุบููุฑ ุงูุทุงุจุน. ูุฌุจ ุฃู ูููู ูุงุฆุฏ ูุงุญุฏ ููุท.</div>
</div>
<div class="field">
<div class="label">
<span>ูู Reflection ููุชุจุณ (ูุฑุดุญุงู ูุชูุงูุณุงู)ุ</span>
<div class="switch" data-key="reflection_ambiguous" data-state="false"><div class="dot"></div><span>ูุง</span></div>
</div>
<div class="hint">ุฅุฐุง ูุงู ููุงู ุฃูุซุฑ ูู ูุฑุดุญ ูููุงุฆุฏุ ุงููุชูุฌุฉ <span class="mono">WAIT</span>.</div>
</div>
</div>
<p class="small">ุฅู ูู ููู ููุฌูุฏูุง ุฃุตูุงู โ <span class="mono">CANCEL</span>. ุฅู ูุงู ููุชุจุณูุง โ <span class="mono">WAIT</span>.</p>
</details>
<details>
<summary>Stage 6: ูุทุงู 4 ุงููุชูููุน โ Expected Fourth Range</summary>
<div class="grid">
<div class="field">
<div class="label">
<span>ูู ูุทุงู (4) ูุงุถุญุ</span>
<div class="switch" data-key="fourth_range_clear" data-state="false"><div class="dot"></div><span>ูุง</span></div>
</div>
<div class="hint">ูู ุงููุทุงู ุงูุฐู ุณูุดูู ููุทุฉ ุฏุฎูููุง ูู ุงููุฑูู ุงูุฃุนูู.</div>
</div>
</div>
<p class="small">ุฅู ูู ููู ูุงุถุญูุง โ <span class="mono">CHANGE_TF</span>.</p>
</details>
<details>
<summary>Stage 7: Mini-Quad (ุนูู ุงููุฑูู ุงูุฃุฏูู)</summary>
<div class="grid">
<div class="field">
<div class="label">
<span>ูู MiniโQuad ูุงุถุญุ</span>
<div class="switch" data-key="mini_quad_clear" data-state="false"><div class="dot"></div><span>ูุง</span></div>
</div>
<div class="hint">ุชูุฒู ุฅูู ุงููุฑูู ุงูุฃุฏูู (ูุซูุงู 5m) ูุชุจุญุซ ุนู Quad ุตุบูุฑ ุจุฏุงุฎู ูุทุงู (4) ุงููุจูุฑ.</div>
</div>
</div>
<p class="small">ุฅู ูู ููู ูุงุถุญูุง โ <span class="mono">CHANGE_TF</span> (ุงูุฒู ุฅูู 5m). ุฅู ุจูู ุบุงูุถูุง โ <span class="mono">CANCEL</span>.</p>
</details>
<details>
<summary>Stage 8: Sweet Zone + ูุฌูุฏ ุถุนู</summary>
<div class="grid two">
<div class="field">
<div class="label">
<span>ูู ุงูุณุนุฑ ุฏุงุฎู Sweet Zoneุ</span>
<div class="switch" data-key="in_sweet_zone" data-state="false"><div class="dot"></div><span>ูุง</span></div>
</div>
<div class="hint">Sweet Zone: ูุทุงู ุงูููุจููุงุชุดู (61.8% โ 78.6%).</div>
</div>
<div class="field">
<div class="label">
<span>ูู ููุงู ุถุนู ุฏุงุฎู Sweet Zone (ุดููุน ุชุธูุฑ ุนุฏู ูุฏุฑุฉ ุนูู ุงูุงุณุชูุฑุงุฑ)ุ</span>
<div class="switch" data-key="weakness_in_sweet_zone" data-state="false"><div class="dot"></div><span>ูุง</span></div>
</div>
<div class="hint">ุฅุฐุง ูุงู ุงูุณุนุฑ ุฏุงุฎู Sweet Zone ููู ุจุฏูู ุถุนู โ <span class="mono">WAIT</span>.</div>
</div>
</div>
<p class="small">ุฅู ูุงู ุฎุงุฑุฌ Sweet Zone โ <span class="mono">WAIT</span>. ุฅู ูุงู ุฏุงุฎููุง ุจุฏูู ุถุนู โ <span class="mono">WAIT</span> ุฃูุถุงู.</p>
</details>
<details>
<summary>๐จ ุฃุญุฏุงุซ ุงูุฅูุบุงุก ุงูููุฑู (Hard Cancel Events)</summary>
<div class="grid">
<div class="field">
<div class="label">
<span>ูู ููุณุฑุช ููุทุฉ ุงูุตูุฑุ</span>
<div class="switch" data-key="broke_point_zero" data-state="false"><div class="dot"></div><span>ูุง</span></div>
</div>
<div class="hint">ุงูุณุนุฑ ุนุงุฏ ููุณุฑ Point Zero ุงูุฃุตูู ุจุดูู ุญุงุณู โ <span class="mono">CANCEL</span> ููุฑูุง.</div>
</div>
<div class="field">
<div class="label">
<span>ูู ููุฏุช ูุถูุญ Quad (ุงูููุฌุงุช ูู ุชุนุฏ 1โ2โ3โ4)ุ</span>
<div class="switch" data-key="lost_quad_clarity" data-state="false"><div class="dot"></div><span>ูุง</span></div>
</div>
<div class="hint">ุฅุฐุง ุชุดููุด ุงูู Quad โ <span class="mono">CANCEL</span> ููุฑูุง.</div>
</div>
<div class="field">
<div class="label">
<span>ูู ุงุฎุชูุทุช ุนุงุฆูุงุช ุงูุดููุน (ุจุนุถูุง bull ูุงูุขุฎุฑ bear)ุ</span>
<div class="switch" data-key="family_mixed" data-state="false"><div class="dot"></div><span>ูุง</span></div>
</div>
<div class="hint">ุฅุฐุง ุฃุตุจุญุช ุจุนุถ ุงูุฑููุฌุงุช bullish ูุงูุฃุฎุฑู bearish โ <span class="mono">CANCEL</span> ููุฑูุง.</div>
</div>
<div class="field">
<div class="label">
<span>ูู Reflection ูู ูุนุฏ ูุทุงุจู ุงูุณููู ุงูุญุงูู (mismatch)ุ</span>
<div class="switch" data-key="reflection_mismatch" data-state="false"><div class="dot"></div><span>ูุง</span></div>
</div>
<div class="hint">ุฅุฐุง ุชุบูุฑ ุงูุณููู ูุฌุฃุฉ ููู ูุนุฏ Reflection ูุงุฆุฏูุง โ <span class="mono">CANCEL</span> ููุฑูุง.</div>
</div>
</div>
<p class="small">ุฃู ูู ูุฐู ุงูุฃุญุฏุงุซ ูุคุฏู ููุฑูุง ุฅูู <span class="mono">CANCEL</span> ุฏูู ุงููุธุฑ ูุจููุฉ ุงููุฑุงุญู.</p>
</details>
<details>
<summary>Stage 9: LevelโP Scoring (ููุฉ ุงูุณููุงุฑูู)</summary>
<div class="grid">
<div class="field">
<div class="label">
<span>A) ูุถูุญ ุงููุณุฎ ูููุ</span>
<div class="switch" data-key="A_copy_strong" data-state="false"><div class="dot"></div><span>ูุง</span></div>
</div>
</div>
<div class="field">
<div class="label">
<span>B) Reflection ูููุ</span>
<div class="switch" data-key="B_reflection_strong" data-state="false"><div class="dot"></div><span>ูุง</span></div>
</div>
</div>
<div class="field">
<div class="label">
<span>C) Sweet Zone ูููุฉุ</span>
<div class="switch" data-key="C_sweetzone_strong" data-state="false"><div class="dot"></div><span>ูุง</span></div>
</div>
</div>
</div>
<p class="small">ูุงุนุฏุฉ ุงูุชูููุฐ: ูุงุฒู 2 ูู 3 "ููู" ูุฅุนุทุงุก <span class="mono">ENTER</span>.</p>
</details>
</section>
<aside class="card">
<h2>ุงููุฑุงุฑ <span class="badge">Decision Output</span></h2>
<div class="result">
<div class="row">
<div class="pill"><span class="k">ACTION</span> <span class="action warn" id="action">โ</span></div>
<div class="pill"><span class="k">NEXT</span> <span class="mono" id="next">โ</span></div>
<div class="pill"><span class="k">SCORE</span> <span class="mono" id="score">0/3</span></div>
</div>
<div class="next" id="explain">ุญุฑูู ุงูููุงุชูุญ ูุนุฑุถ ุงููุฑุงุฑ ููุฑูุง.</div>
<div class="actions">
<button class="primary" id="btn-eval">ุชูููู ุงูุขู</button>
<button id="btn-reset">ุฅุนุงุฏุฉ ุถุจุท</button>
</div>
<div class="kv" id="kv"></div>
</div>
<p class="small">ุงูุชูุตูุฉ ุงูุงูุชุฑุงุถูุฉ ูููุฑูู: HTF=4Hุ LTF=15mุ ุซู 5m ุนูุฏ ุงูุญุงุฌุฉ.</p>
</aside>
</main>
</section>

<!-- Timing Panel -->
<section id="tab-timing" class="tab-panel" role="tabpanel">
<div class="doc-page">
<h3>๐ Timing โ ุชุญุฏูุฏ ุงูุชูููุช ุงูุฃูุซู</h3>
<p><strong>ุงููุฏู:</strong> ูุนุฑูุฉ ูุชู ูุฏุฎู ุจุงูุถุจุทุ ูููู ูุณุชุฎุฏู multi-timeframe analysis ูุชูููุช ุงูุฏุฎูู ุงููุซุงูู.</p>

<div class="note">
<strong>ุงููุงุนุฏุฉ ุงูุฐูุจูุฉ:</strong> ูุง ุชุฏุฎู ูุจู ุงูุชูุงู ุฌููุน ุงููุฑุงุญู (0โ8) + LevelโP Score โฅ 2/3.
</div>

<ul>
<li><strong>HTF (Higher Timeframe):</strong> ูุณุชุฎุฏูู ูุชุญุฏูุฏ ุงูุตูุฑุฉ ุงููุจุฑู ูุงููููู ุงูุนุงู (ูุซู 4H).</li>
<li><strong>LTF (Lower Timeframe):</strong> ูุณุชุฎุฏูู ููุฏุฎูู ุงูุฏููู (ูุซู 15m ุฃู 5m).</li>
<li><strong>Sweet Zone Entry:</strong> ูุฏุฎู ููุท ุนูุฏูุง ูุธูุฑ ุถุนู ุฏุงุฎู Sweet Zone ุนูู LTF.</li>
</ul>

<p><strong>ุฎุทูุงุช ุงูุชูููุช:</strong></p>
<ol>
<li>ุฑุงูุจ HTF ุญุชู ูุตู ุงูุณุนุฑ ุฅูู Sweet Zone.</li>
<li>ุงูุชูู ุฅูู LTF ูุงุจุญุซ ุนู Mini-Quad + ุถุนู.</li>
<li>ุฅุฐุง ุธูุฑ ุงูุถุนู ููุงู LevelโP Score โฅ 2 โ ุงุฏุฎู ููุฑูุง.</li>
<li>ุฅุฐุง ูู ูุธูุฑ ุถุนู โ ุงูุชุธุฑ ููุง ุชุฏุฎู ุญุชู ูู ููุช ูู Sweet Zone.</li>
</ol>

<div class="warn">
<strong>ุชุญุฐูุฑ:</strong> ุงูุฏุฎูู ุงููุจูุฑ (ูุจู ุงูุถุนู) ูุนุฑูุถู ูุฎุทุฑ ุฃู ูุณุชูุฑ ุงูุณุนุฑ ูู ุงูุงุชุฌุงู ุงููุฏูู ููุถุฑุจู.
</div>

<p><strong>ุฃูุซูุฉ ุนูู ุงูุชูููุช:</strong></p>
<ul>
<li>HTF ูุธูุฑ ูููู ูุงูู โ ุงูุชุธุฑ ุญุชู ูุตู ุงูุณุนุฑ Sweet Zone ุนูู HTF โ ุงูุฒู ูู LTF โ ุงุจุญุซ ุนู Mini-Quad โ ุฅุฐุง ุธูุฑ ุถุนู โ ุงุฏุฎู.</li>
<li>ุฅุฐุง ูุงู ุงูุณุนุฑ ูุฑูุจ ูู Sweet Zone ููู ูู ูุฏุฎููุง ุจุนุฏ โ <code>WAIT</code>.</li>
<li>ุฅุฐุง ุฏุฎู Sweet Zone ุจุฏูู ุถุนู โ <code>WAIT</code>.</li>
</ul>
</div>
</section>

<!-- Execution Panel -->
<section id="tab-execution" class="tab-panel" role="tabpanel">
<div class="doc-page">
<h3>โก Execution โ ุงูุชูููุฐ ุงููุนูู</h3>
<p><strong>ุงููุฏู:</strong> ููู ูููุฐ ุงูุฏุฎูู ุจุดูู ุนููู ุจุนุฏ ุฃู ูุฑุฑูุง <code>ENTER</code>.</p>

<div class="note">
<strong>ุงููุงุนุฏุฉ:</strong> ุงูุฏุฎูู ูููู ุนูู Mini-Quad ูู LTFุ ูููุณ ุนูู HTF ูุจุงุดุฑุฉ.
</div>

<p><strong>ุฎุทูุงุช ุงูุชูููุฐ:</strong></p>
<ol>
<li><strong>ุชุญุฏูุฏ ููุทุฉ ุงูุฏุฎูู:</strong> ุงูุชุธุฑ ุญุชู ููุชูู Mini-Quad (1โ2โ3โ4) ุนูู LTF.</li>
<li><strong>Entry Trigger:</strong> ุงุฏุฎู ุนูุฏ ุจุฏุงูุฉ ุงูุดูุนุฉ ุงูุชู ุชุคูุฏ ุงูุถุนู (ูุซูุงู ุดูุนุฉ ุฑูุถ ููู ุฃู pin bar).</li>
<li><strong>Stop Loss:</strong> ุถุนู ุฃุณูู/ุฃุนูู Mini-Quad (ุญุณุจ ุงูุงุชุฌุงู) ุจูุณุงูุฉ ุฃูุงู ุตุบูุฑุฉ (~5-10 pips).</li>
<li><strong>Take Profit:</strong> ุงููุฏู ุงูุฃูู ุนูุฏ ูุทุงู (4) ุนูู HTFุ ุงููุฏู ุงูุซุงูู ุนูุฏ Point Zero ุนูู HTF.</li>
</ol>

<div class="warn">
<strong>ุชุญุฐูุฑ:</strong> ูุง ุชุญุฑู ุงูู Stop Loss ุฅูู Breakeven ูุจู ุฃู ูุตู ุงูุณุนุฑ ุฅูู 50% ูู ุงููุฏู ุงูุฃููุ ูุฅูุง ูุฏ ุชุฎุฑุฌ ูู ุตููุงุช ุฑุงุจุญุฉ ูุจูุฑูุง.
</div>

<p><strong>ุฃูุซูุฉ ุนูู ุงูุชูููุฐ:</strong></p>
<ul>
<li><strong>Bullish Setup:</strong> Mini-Quad ูุดููู ูุงุน โ ุดูุนุฉ ุฑูุถ ุตุงุนุฏุฉ โ ุงุฏุฎู Buy โ SL ุฃุณูู ุงููุงุน โ TP1 ุนูุฏ ูุทุงู (4) HTF.</li>
<li><strong>Bearish Setup:</strong> Mini-Quad ูุดููู ููุฉ โ ุดูุนุฉ ุฑูุถ ูุงุจุทุฉ โ ุงุฏุฎู Sell โ SL ุฃุนูู ุงูููุฉ โ TP1 ุนูุฏ ูุทุงู (4) HTF.</li>
</ul>

<p><strong>ุญุฌู ุงูุตููุฉ (Position Sizing):</strong></p>
<ul>
<li>ุงุณุชุฎุฏู ูุงุนุฏุฉ 1-2% ูู ุฑุฃุณ ุงููุงู ูุญุฏ ุฃูุตู ููุฎุณุงุฑุฉ ูู ูู ุตููุฉ.</li>
<li>ุงุญุณุจ ุญุฌู ุงูููุช ุจูุงุกู ุนูู ุงููุณุงูุฉ ุจูู Entry ู Stop Loss.</li>
</ul>
</div>
</section>

<!-- Risk Panel -->
<section id="tab-risk" class="tab-panel" role="tabpanel">
<div class="doc-page">
<h3>๐ก๏ธ Risk โ ุฅุฏุงุฑุฉ ุงููุฎุงุทุฑ</h3>
<p><strong>ุงููุฏู:</strong> ุญูุงูุฉ ุฑุฃุณ ุงููุงู ูุชูููู ุงูุฎุณุงุฆุฑ ูุฒูุงุฏุฉ ุงุญุชูุงููุฉ ุงูุจูุงุก ูู ุงูุณูู ุนูู ุงููุฏู ุงูุทููู.</p>

<div class="note">
<strong>ุงููุงุนุฏุฉ ุงูุฐูุจูุฉ:</strong> ูุง ุชุฎุงุทุฑ ุจุฃูุซุฑ ูู 1-2% ูู ุฑุฃุณ ุงููุงู ูู ุฃู ุตููุฉ ูุงุญุฏุฉ.
</div>

<p><strong>ุงุณุชุฑุงุชูุฌูุงุช ุงููุฎุงุทุฑ:</strong></p>
<ul>
<li><strong>Stop Loss ุงูุซุงุจุช:</strong> ุถุนู ุฏุงุฆููุง ุนูุฏ ูุณุชูู ููุทูู (ุฃุณูู/ุฃุนูู Mini-Quad).</li>
<li><strong>Risk/Reward Ratio:</strong> ุงูุฏู ููุณุจุฉ 1:2 ูุญุฏ ุฃุฏูู (ุฅุฐุง ููุช ุชุฎุงุทุฑ ุจู 20 ููุทุฉุ ุงูุฏู ูู 40 ููุทุฉ ุฑุจุญ).</li>
<li><strong>ุชุฌูุจ ุงูู Over-leverage:</strong> ูุง ุชุณุชุฎุฏู ุฑุงูุนุฉ ูุงููุฉ ุนุงููุฉ ุฌุฏูุง (ูุซู 1:500) ูุฃููุง ุชุฒูุฏ ุงููุฎุงุทุฑ.</li>
<li><strong>Diversification:</strong> ูุง ุชุถุน ูู ุฑุฃุณ ุงููุงู ูู ุฒูุฌ ูุงุญุฏ ุฃู ุตููุฉ ูุงุญุฏุฉ.</li>
</ul>

<div class="warn">
<strong>ุชุญุฐูุฑ:</strong> ุฅุฐุง ุฎุณุฑุช 3 ุตููุงุช ูุชุชุงููุฉุ ุชููู ููุฏุฉ ููู ูุงูู ูุฑุงุฌุน ุงุณุชุฑุงุชูุฌูุชู. ูุฏ ุชููู ููุงู ูุดููุฉ ูู ุงูุชุญููู ุฃู ุงูุชูููุฐ.
</div>

<p><strong>Hard Cancel Events โ ุฎุฑูุฌ ููุฑู:</strong></p>
<ul>
<li>ุฅุฐุง ููุณุฑ Point Zero โ ุงุฎุฑุฌ ููุฑูุง (ุญุชู ูู ูู ูุถุฑุจ SL).</li>
<li>ุฅุฐุง ููุฏ Quad ูุถูุญู โ ุงุฎุฑุฌ ููุฑูุง.</li>
<li>ุฅุฐุง ุงุฎุชูุทุช ุนุงุฆูุงุช ุงูุดููุน โ ุงุฎุฑุฌ ููุฑูุง.</li>
<li>ุฅุฐุง Reflection ูู ูุนุฏ ูุทุงุจู ุงูุณููู โ ุงุฎุฑุฌ ููุฑูุง.</li>
</ul>

<p><strong>Trailing Stop:</strong></p>
<ul>
<li>ุจุนุฏ ุฃู ูุตู ุงูุณุนุฑ ุฅูู 50% ูู ุงููุฏู ุงูุฃููุ ููููู ููู SL ุฅูู Breakeven.</li>
<li>ุจุนุฏ ุฃู ูุตู ุงูุณุนุฑ ุฅูู ุงููุฏู ุงูุฃููุ ููููู ุงุณุชุฎุฏุงู Trailing Stop ูููู ุงูุฃุฑุจุงุญ.</li>
</ul>
</div>
</section>

<!-- Management Panel -->
<section id="tab-management" class="tab-panel" role="tabpanel">
<div class="doc-page">
<h3>๐ Management โ ุฅุฏุงุฑุฉ ุงูุตููุงุช</h3>
<p><strong>ุงููุฏู:</strong> ููููุฉ ุฅุฏุงุฑุฉ ุงูุตููุฉ ุจุนุฏ ุงูุฏุฎูู ูุชุนุธูู ุงูุฃุฑุจุงุญ ูุชูููู ุงูุฎุณุงุฆุฑ.</p>

<div class="note">
<strong>ุงููุงุนุฏุฉ:</strong> ูุง ุชุชุฑู ุงูุตููุฉ ุจุฏูู ูุฑุงูุจุฉ. ุฑุงูุจ ุฏุงุฆููุง HTF ู LTF ูุฑุตุฏ ุฃู ุชุบููุฑุงุช.
</div>

<p><strong>ุฎุทูุงุช ุงูุฅุฏุงุฑุฉ:</strong></p>
<ol>
<li><strong>ุจุนุฏ ุงูุฏุฎูู:</strong> ุฑุงูุจ ุงูุณุนุฑ ุนูู LTF ููุชุฃูุฏ ูู ุฃู ุงูุถุนู ูุณุชูุฑ.</li>
<li><strong>ุนูุฏ ุงููุตูู ุฅูู 50% ูู TP1:</strong> ุงููู SL ุฅูู Breakeven ูุญูุงูุฉ ุฑุฃุณ ุงููุงู.</li>
<li><strong>ุนูุฏ ุงููุตูู ุฅูู TP1:</strong> ุงุฎุฑุฌ ุจู 50% ูู ุงูุตููุฉ ูุงุชุฑู ุงูู 50% ุงูุจุงููุฉ ุชุฌุฑู ูุญู TP2.</li>
<li><strong>ุนูุฏ ุงููุตูู ุฅูู TP2:</strong> ุงุฎุฑุฌ ุจู 100% ูู ุงูุตููุฉ.</li>
</ol>

<div class="warn">
<strong>ุชุญุฐูุฑ:</strong> ูุง ุชุทูุน. ุฅุฐุง ูุตู ุงูุณุนุฑ ุฅูู TP1 ููู ุชุฑุบุจ ูู ุงูุฎุฑูุฌุ ุนูู ุงูุฃูู ุงุฎุฑุฌ ุจุฌุฒุก ูู ุงูุตููุฉ ูููู ุงูุฃุฑุจุงุญ.
</div>

<p><strong>Scaling Out (ุงูุฎุฑูุฌ ุงูุชุฏุฑูุฌู):</strong></p>
<ul>
<li>ุฎุฑูุฌ 50% ุนูุฏ TP1 โ ูููู ุฑุจุญ ูุถููู.</li>
<li>ุฎุฑูุฌ 50% ุนูุฏ TP2 โ ูุนุธูู ุงูุฃุฑุจุงุญ ุฅุฐุง ุงุณุชูุฑ ุงูุณุนุฑ.</li>
</ul>

<p><strong>Re-entry (ุงูุฏุฎูู ูุฑุฉ ุฃุฎุฑู):</strong></p>
<ul>
<li>ุฅุฐุง ุฎุฑุฌุช ูู ุงูุตููุฉ ุนูุฏ TP1 ุซู ุฑุฃูุช ูุฑุตุฉ ุฌุฏูุฏุฉ (Mini-Quad ุฌุฏูุฏ + ุถุนู ุฌุฏูุฏ)ุ ููููู ุงูุฏุฎูู ูุฑุฉ ุฃุฎุฑู.</li>
<li>ููู ูุง ุชุฏุฎู ูุฑุฉ ุฃุฎุฑู ุฅุฐุง ูุงู LevelโP Score ุฃูู ูู 2/3.</li>
</ul>

<p><strong>ูุฑุงูุจุฉ Hard Cancel Events:</strong></p>
<ul>
<li>ุทูุงู ูุชุฑุฉ ุงูุตููุฉุ ุฑุงูุจ ุงูู 4 ุฃุญุฏุงุซ ุงูููุบูุฉ (ูุณุฑ Point Zeroุ ููุฏุงู Quadุ ุงุฎุชูุงุท ุงูุนุงุฆูุงุชุ Reflection Mismatch).</li>
<li>ุฅุฐุง ุญุฏุซ ุฃู ูููุง โ ุงุฎุฑุฌ ููุฑูุง ุจุบุถ ุงููุธุฑ ุนู ุงูุฑุจุญ/ุงูุฎุณุงุฑุฉ.</li>
</ul>
</div>
</section>

<!-- FAQ Panel -->
<section id="tab-faq" class="tab-panel" role="tabpanel">
<div class="doc-page">
<h3>โ FAQ โ ุงูุฃุณุฆูุฉ ุงูุดุงุฆุนุฉ</h3>

<p><strong>ุณ1: ูู ูููู ุงูุฏุฎูู ุจุฏูู Mini-Quadุ</strong></p>
<p>ุฌ: ูุง. Mini-Quad ุถุฑูุฑู ูุฃูู ูุนุทูู ููุทุฉ ุฏุฎูู ุฏูููุฉ ู SL ููุทูู. ุจุฏูููุ ุฃูุช ุชุฎููู.</p>

<p><strong>ุณ2: ูุงุฐุง ูู ูุงู LevelโP Score = 1/3ุ</strong></p>
<p>ุฌ: ุงููุชูุฌุฉ ุณุชููู <code>SKIP</code>. ูุง ุชุฏุฎู ุญุชู ูู ูุงูุช ุฌููุน ุงููุฑุงุญู ููุชููุฉ. ุงูููุฉ ุบูุฑ ูุงููุฉ.</p>

<p><strong>ุณ3: ูู ูููู ุงุณุชุฎุฏุงู HTF ููุท ุจุฏูู LTFุ</strong></p>
<p>ุฌ: ูุธุฑููุง ูุนูุ ููู ุนููููุง ุณุชููุฏ ุฏูุฉ ุงูุชูููุช ูุณุชุถุทุฑ ูุงุณุชุฎุฏุงู SL ุฃูุณุนุ ููุง ูุฒูุฏ ุงููุฎุงุทุฑ.</p>

<p><strong>ุณ4: ูุงุฐุง ูู ุธูุฑ Mini-Quad ููู ูุง ููุฌุฏ ุถุนูุ</strong></p>
<p>ุฌ: <code>WAIT</code>. ูุง ุชุฏุฎู ุญุชู ูุธูุฑ ุงูุถุนู. ุงูุถุนู ูู ุงูุชุฃููุฏ ุงูููุงุฆู.</p>

<p><strong>ุณ5: ููู ุฃุนุฑู ุฃู Reflection ูููุ</strong></p>
<p>ุฌ: ุฅุฐุง ูุงู ุงููุงุฆุฏ ูุงุญุฏ ููุท (ุจุฏูู ููุงูุณ) ููุธูุฑ ุจูุถูุญ ุนูู HTF ู LTFุ ููู ููู.</p>

<p><strong>ุณ6: ูุงุฐุง ูู ูุณุฑ ุงูุณุนุฑ Point Zero ุจุนุฏ ุงูุฏุฎููุ</strong></p>
<p>ุฌ: ุงุฎุฑุฌ ููุฑูุง (<code>CANCEL</code>). ุญุชู ูู ููุช ูู ุฑุจุญุ ุงุฎุฑุฌ ูุฃู ุงููููู ุงููุงุฑ.</p>

<p><strong>ุณ7: ูู ูููู ุงุณุชุฎุฏุงู ูุฐุง ุงููุธุงู ุนูู ุฌููุน ุงูุฃุฒูุงุฌุ</strong></p>
<p>ุฌ: ูุนูุ ููู ููุถูู ุงูุฃุฒูุงุฌ ุฐุงุช ุงูุณูููุฉ ุงูุนุงููุฉ (ูุซู EUR/USDุ GBP/USD) ูุฃููุง ุฃูุถุญ ูุฃูู ุถูุถุงุก.</p>

<p><strong>ุณ8: ูู ุตููุฉ ูู ุงููููุ</strong></p>
<p>ุฌ: ููุณ ููุงู ุฑูู ุซุงุจุช. ูุฏ ุชุฌุฏ 0 ุตููุฉ ูู ูููุ ููุฏ ุชุฌุฏ 3-5 ุตููุงุช ูู ููู ุขุฎุฑ. ุงูุฃูู ูู ุงูุฌูุฏุฉุ ููุณ ุงููููุฉ.</p>

<p><strong>ุณ9: ูุงุฐุง ูู ูุดูุช 3 ุตููุงุช ูุชุชุงููุฉุ</strong></p>
<p>ุฌ: ุชููู ููุฏุฉ ููู ูุงูู. ุฑุงุฌุน ุชุญูููุงุชูุ ุชุฃูุฏ ูู ุฃูู ุชุชุจุน ุงูููุงุนุฏุ ูุงุทูุจ ูุฑุงุฌุนุฉ ูู ุฒููู ุฃู ูุนููู.</p>

<p><strong>ุณ10: ูู ูููู ุงุณุชุฎุฏุงู ูุฐุง ุงููุธุงู ุนูู ุงูุฃุณูู ุฃู ุงููุฑูุจุชูุ</strong></p>
<p>ุฌ: ูุนูุ ุงููุจุฏุฃ ููุณู. ููู ุชุฐูุฑ ุฃู ุงููุฑูุจุชู ุฃูุซุฑ ุชููุจูุงุ ููุฏ ุชุญุชุงุฌ ูุชุนุฏูู ูุณุจ ุงููุฎุงุทุฑ.</p>

<div class="note">
<strong>ููุงุญุธุฉ:</strong> ุฅุฐุง ูุงู ูุฏูู ุณุคุงู ุขุฎุฑ ุบูุฑ ูุฏุฑุฌ ููุงุ ููููู ุชุฏูููู ูู ููุงุญุธุงุชู ุงูุฎุงุตุฉ ุฃู ูุดุงุฑูุชู ูุน ุงููุฑูู.
</div>
</div>
</section>

</div>
</main>
<script>
    const defaults = {
      structure_ok:false, symmetry_ok:false, exhaustion_ok:false, exhaustion_not_yet:false,
      point_zero_clear:false, quad_clear:false, family_clear:false, alternation_ok:false,
      reflection_found:false, reflection_ambiguous:false, fourth_range_clear:false, mini_quad_clear:false,
      in_sweet_zone:false, weakness_in_sweet_zone:false,
      broke_point_zero:false, lost_quad_clarity:false, family_mixed:false, reflection_mismatch:false,
      A_copy_strong:false, B_reflection_strong:false, C_sweetzone_strong:false,
    };

    let state = {...defaults};

    function setSwitch(el, value){
      el.dataset.state = String(value);
      const txt = el.querySelector("span");
      txt.textContent = value ? "ูุนู" : "ูุง";
      const key = el.dataset.key;
      state[key] = value;
    }

    function toggleSwitch(el){
      const cur = el.dataset.state === "true";
      setSwitch(el, !cur);
      evaluate();
    }

    function actionStyle(action){
      if(action === "ENTER" || action === "PROCEED") return "ok";
      if(action === "WAIT" || action === "CHANGE_TF") return "warn";
      return "bad";
    }

    function evaluate(){
      // score
      let score = 0;
      if(state.A_copy_strong) score++;
      if(state.B_reflection_strong) score++;
      if(state.C_sweetzone_strong) score++;

      // Hard cancel first
      if(state.broke_point_zero){
        return render("CANCEL", "Scenario invalid: Point Zero broken", score, "ุฅูุบุงุก ููุฑู: ุชู ูุณุฑ ููุทุฉ ุงูุตูุฑ.");
      }
      if(state.lost_quad_clarity){
        return render("CANCEL", "Scenario invalid: Quad clarity lost", score, "ุฅูุบุงุก ููุฑู: ููุฏุช ูุถูุญ Quad.");
      }
      if(state.alternation_ok === false && state.point_zero_clear && state.quad_clear && state.family_clear){
        // Only meaningful after you are actually in analysis; still cancel.
        return render("CANCEL", "Scenario invalid: Alternation broken", score, "ุฅูุบุงุก ููุฑู: ุงูุชูุงูุจ ููุณูุฑ (ูุตุบุฑ ุนูู ูุตุบุฑ ุฃู ููุจุฑ ุนูู ููุจุฑ).");
      }
      if(state.family_mixed){
        return render("CANCEL", "Scenario invalid: Candle families mixed", score, "ุฅูุบุงุก ููุฑู: ุงุฎุชูุงุท ุนุงุฆูุงุช ุงูุดููุน.");
      }
      if(state.reflection_mismatch){
        return render("CANCEL", "Scenario invalid: Reflection mismatch", score, "ุฅูุบุงุก ููุฑู: Reflection ูู ูุนุฏ ูุทุงุจู ุงูุณููู.");
      }

      // Stage 0 Visual Gate
      if(!state.structure_ok){
        return render("CANCEL", "Not a fractal: No structure", score, "ุจูุงุจุฉ ุงูุชุนุฑูู ูุดูุช: ูุง ููุฌุฏ ูููู ูุงุถุญ.");
      }
      if(!state.symmetry_ok){
        return render("CHANGE_TF", "Try different timeframe; if still unclear -> CANCEL", score, "ุงูุชูุงุธุฑ ุบูุฑ ูุงุถุญ: ุบููุฑ ุงููุฑููุ ูุฅุฐุง ุจูู ุบุงูุถูุง ุฃูุบู.");
      }
      if(!state.exhaustion_ok && state.exhaustion_not_yet){
        return render("WAIT", "Wait for structural exhaustion", score, "ุงูุฅุฑูุงู ุบูุฑ ููุชูู: ุงูุชุธุฑ ุญุชู ูุธูุฑ ุงูุฅุฑูุงู ุงูุจูููู.");
      }
      if(!state.exhaustion_ok && !state.exhaustion_not_yet){
        return render("CANCEL", "Not ready/Not present: No exhaustion", score, "ูุง ุฅุฑูุงู ุจูููู: ุงูุณููุงุฑูู ุบูุฑ ุตุงูุญ/ุบูุฑ ุฌุงูุฒ.");
      }

      // Stage 1 Point Zero
      if(!state.point_zero_clear){
        return render("CHANGE_TF", "Change TF to clarify Point Zero; if still unclear -> CANCEL", score, "ููุทุฉ ุงูุตูุฑ ุบูุฑ ูุงุถุญุฉ: ุบููุฑ ุงููุฑูู ููุชูุถูุญ.");
      }

      // Stage 2 Quad
      if(!state.quad_clear){
        return render("CHANGE_TF", "Change TF to clarify Quad; if still unclear -> CANCEL", score, "Quad ุบูุฑ ูุงุถุญ: ุบููุฑ ุงููุฑูู ูุชูุถูุญ 1โ2โ3โ4.");
      }

      // Stage 3 Family
      if(!state.family_clear){
        return render("CANCEL", "Cancel: Candle family unclear/mixed", score, "ุนุงุฆูุฉ ุงูุดููุน ุบูุฑ ูุงุถุญุฉ: ูุง ุชูููุฐ.");
      }

      // Stage 4 Alternation
      if(!state.alternation_ok){
        return render("CANCEL", "Cancel: Alternation broken", score, "ุงูุชูุงูุจ ุบูุฑ ูุชุญูู: ูุง ุชูููุฐ.");
      }

      // Stage 5 Reflection
      if(!state.reflection_found){
        return render("CANCEL", "Cancel: No Reflection", score, "ูุง ููุฌุฏ Reflection ูุงุถุญ: ูุง ุฎุฑูุทุฉ โ ุฅูุบุงุก.");
      }
      if(state.reflection_ambiguous){
        return render("WAIT", "Wait until Reflection becomes clear", score, "Reflection ููุชุจุณ: ุงูุชุธุฑ ุญุชู ูุตุจุญ ูุงุฆุฏ ูุงุญุฏ ูุงุถุญ.");
      }

      // Stage 6 Fourth range
      if(!state.fourth_range_clear){
        return render("CHANGE_TF", "Change TF to clarify expected 4th range; if still unclear -> CANCEL", score, "ูุทุงู (4) ุบูุฑ ูุงุถุญ: ุบููุฑ ุงููุฑูู ููุชูุถูุญ.");
      }

      // Stage 7 Mini-Quad
      if(!state.mini_quad_clear){
        return render("CHANGE_TF", "Drop to 5m; if still unclear -> CANCEL", score, "MiniโQuad ุบูุฑ ูุงุถุญ: ุงูุฒู ุฅูู 5mุ ูุฅู ุจูู ุบุงูุถูุง ุฃูุบู.");
      }

      // Stage 8 Sweet Zone
      if(!state.in_sweet_zone){
        return render("WAIT", "Wait until price enters Sweet Zone", score, "ุฎุงุฑุฌ Sweet Zone: ุงูุชุธุฑ ุญุชู ูุฏุฎู ุงูุณุนุฑ ุงูููุทูุฉ.");
      }
      if(state.in_sweet_zone && !state.weakness_in_sweet_zone){
        return render("WAIT", "In Sweet Zone but no weakness: wait, do not enter", score, "ุฏุงุฎู Sweet Zone ููู ุจุฏูู ุถุนู: ุงูุชุธุฑ ููุง ุชุฏุฎู.");
      }

      // Stage 9 Level-P scoring
      if(score >= 2){
        return render("ENTER", "Execute trade", score, "ุดุฑูุท ุงูุฏุฎูู ููุชููุฉ + ููุฉ ุงูุณููุงุฑูู โฅ 2/3 โ ุฏุฎูู.");
      }
      return render("SKIP", "Skip: Not strong enough", score, "ุดุฑูุท ุงูุฏุฎูู ููุฌูุฏุฉ ููู ุงูููุฉ < 2/3 โ ุชุฌุงูู.");
    }

    function render(action, next, score, explain){
      const actionEl = document.getElementById("action");
      const nextEl = document.getElementById("next");
      const scoreEl = document.getElementById("score");
      const explainEl = document.getElementById("explain");

      actionEl.textContent = action;
      actionEl.className = "action " + actionStyle(action);
      nextEl.textContent = next;
      scoreEl.textContent = score + "/3";
      explainEl.textContent = explain;

      // show key/value snapshot
      const kv = document.getElementById("kv");
      kv.innerHTML = "";
      const keysToShow = [
        "structure_ok","symmetry_ok","exhaustion_ok","exhaustion_not_yet",
        "point_zero_clear","quad_clear","family_clear","alternation_ok",
        "reflection_found","reflection_ambiguous","fourth_range_clear","mini_quad_clear",
        "in_sweet_zone","weakness_in_sweet_zone",
        "broke_point_zero","lost_quad_clarity","family_mixed","reflection_mismatch",
        "A_copy_strong","B_reflection_strong","C_sweetzone_strong"
      ];
      for(const k of keysToShow){
        const row = document.createElement("div");
        row.innerHTML = `<span class="mono">${k}</span><span>${state[k] ? "true" : "false"}</span>`;
        kv.appendChild(row);
      }
    }

    function resetAll(){
      state = {...defaults};
      document.querySelectorAll(".switch").forEach(sw => setSwitch(sw, false));
      evaluate();
    }

    document.querySelectorAll(".switch").forEach(sw=>{
      sw.addEventListener("click", ()=>toggleSwitch(sw));
    });

    document.getElementById("btn-eval").addEventListener("click", evaluate);
    document.getElementById("btn-reset").addEventListener("click", resetAll);

    // init
    resetAll();
  

(function(){
  const tabButtons = Array.from(document.querySelectorAll('.tab-btn'));
  const panels = Array.from(document.querySelectorAll('.tab-panel'));
  if(!tabButtons.length || !panels.length) return;

  function activateTab(btn){
    const targetId = btn.getAttribute('aria-controls');
    tabButtons.forEach(b=>{
      const sel = b===btn;
      b.setAttribute('aria-selected', sel ? 'true':'false');
      b.tabIndex = sel ? 0 : -1;
    });
    panels.forEach(p=>p.classList.toggle('active', p.id===targetId));
  }

  tabButtons.forEach(btn=>{
    btn.addEventListener('click', ()=>activateTab(btn));
    btn.addEventListener('keydown', (e)=>{
      const i = tabButtons.indexOf(btn);
      if(e.key==='ArrowLeft' || e.key==='ArrowUp'){
        e.preventDefault();
        const n = tabButtons[(i-1+tabButtons.length)%tabButtons.length];
        n.focus();
        activateTab(n);
      }
      if(e.key==='ArrowRight' || e.key==='ArrowDown'){
        e.preventDefault();
        const n = tabButtons[(i+1)%tabButtons.length];
        n.focus();
        activateTab(n);
      }
    });
  });
})();
</script>
</body>
</html>
